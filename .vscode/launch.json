{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "üß™ Run Tests",
            "type": "debugpy",
            "request": "launch",
            "module": "pytest",
            "args": [
                "tests/",
                "-v"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "python": "${workspaceFolder}/venv/bin/python",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            }
        },
        {
            "name": "üß™ Run Tests with Coverage",
            "type": "debugpy",
            "request": "launch",
            "module": "pytest",
            "args": [
                "tests/",
                "--cov=custom_components/qustodio",
                "--cov-report=html",
                "--cov-report=term-missing",
                "--cov-report=xml:coverage.xml",
                "--junit-xml=test_results.xml",
                "--cov-fail-under=95",
                "-v"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "python": "${workspaceFolder}/venv/bin/python",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            }
        },
        {
            "name": "üß™ Debug Single Test",
            "type": "debugpy",
            "request": "launch",
            "module": "pytest",
            "args": [
                "tests/",
                "-v",
                "-s",
                "-k",
                "${input:debugTestName}"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "python": "${workspaceFolder}/venv/bin/python",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            },
            "justMyCode": false
        },
        {
            "name": "üè† Debug Home Assistant",
            "type": "debugpy",
            "request": "launch",
            "module": "homeassistant",
            "args": [
                "--config",
                "${workspaceFolder}/homeassistant_test",
                "--debug",
                "--verbose"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "python": "${workspaceFolder}/venv/bin/python",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            },
            "justMyCode": false
        },
        {
            "name": "üîß Debug API Client",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/debug_api.py",
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "python": "${workspaceFolder}/venv/bin/python",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            },
            "justMyCode": false
        },
        {
            "name": "üé® Format Code",
            "type": "debugpy",
            "request": "launch",
            "module": "black",
            "args": [
                "custom_components/",
                "tests/"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "python": "${workspaceFolder}/venv/bin/python"
        },
        {
            "name": "üé® Run Linter (Black)",
            "type": "debugpy",
            "request": "launch",
            "module": "black",
            "args": [
                "--check",
                "custom_components/",
                "tests/"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "python": "${workspaceFolder}/venv/bin/python"
        },
        {
            "name": "üé® Run Linter (Flake8)",
            "type": "debugpy",
            "request": "launch",
            "module": "flake8",
            "args": [
                "custom_components/",
                "tests/",
                "--max-line-length=120",
                "--extend-ignore=E203,W503"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "python": "${workspaceFolder}/venv/bin/python"
        },
        {
            "name": "üé® Run Linter (pylint)",
            "type": "debugpy",
            "request": "launch",
            "module": "pylint",
            "args": [
                "custom_components/"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "python": "${workspaceFolder}/venv/bin/python"
        },
        {
            "name": "üé® Run Linter (mypy)",
            "type": "debugpy",
            "request": "launch",
            "module": "mypy",
            "args": [
                "custom_components/"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "python": "${workspaceFolder}/venv/bin/python"
        }
    ],
    "compounds": [
        {
            "name": "üîç Run All Linting",
            "configurations": [
                "üé® Run Linter (Black)",
                "üé® Run Linter (Flake8)",
                "üé® Run Linter (pylint)",
                "üé® Run Linter (mypy)"
            ],
            "stopAll": true
        }
    ],
    "inputs": [
        {
            "id": "debugTestName",
            "description": "Test function name to debug",
            "default": "test_login",
            "type": "promptString"
        }
    ]
}
